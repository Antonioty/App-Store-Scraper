const store = require('app-store-scraper');

// Array of app IDs
const appIds = [
    1452992954,
    1450357812,
    1449106995,
    1445691600,
    1445135380,
    1444813385,
    1442749804,
    1441531611,
    1437880869,
    1437757637,
    1436815668,
    1434658250,
    1431636936,
    1420058690,
    1407852246,
    1392850214,
    1387897651,
    1385287093,
    1382466301,
    1380019068,
    1361860628,
    1358277938,
    1357967682,
    1356679402,
    1355464544,
    1344463780,
    1342763352,
    1340841589,
    1339568975,
    1331794493,
    1323901884,
    1317232516,
    1300186484,
    1288430163,
    1275760266,
    1257992754,
    1245499117,
    1215933788,
    1214763610,
    1193508329,
    1190849728,
    1178373396,
    1176147574,
    1164861766,
    1163059069,
    1157335714,
    1133650146,
    1122343023,
    1074731808,
    1068204657,
    1066752474,
    1057889290,
    1048858798,
    1044543328,
    1022267439
  ];

  const promises = appIds.map(id => 
    store.app({ id }).catch(() => ({ genres: "Unknown" }))
  );

  Promise.all(promises)
  .then(results => {
    // Log the genres for each app in the order of appIds
    appIds.forEach((id, index) => {
      console.log(`Genres for app ID ${id}:`, results[index].genres);
    });
  })
  .catch(console.log);
